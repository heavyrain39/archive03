<!DOCTYPE html>
<html lang="en">
<head>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=G-L7XZJ99H8F"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L7XZJ99H8F');
</script>
    

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2980377471326585"
     crossorigin="anonymous"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decoding a Wall Street Giant: The Richard Bernstein Method | Archive 03</title>
    
    <meta name="description" content="Three unique characters dissect the investment philosophy of Wall Street giant Richard Bernstein. A fierce debate ensues over his top-down &lsquo;see the forest&rsquo; approach and the contrarian core of enduring pain. Learn his wisdom of finding market opportunities through corporate profit cycles.">
    <meta name="author" content="야차완">
    
    
    <link rel="stylesheet" href="https://archive03.online/style.scss.min.ce291192b18abdbfc252fa90bf4f6520f45377f49b37b8e34f025ea5398b924d.css">

    <style>
       
      html {
        height: 100%;
      }
      body {
        display: flex;
        flex-direction: column;
        min-height: 100%;
        width: 100%;
        overflow-x: hidden;  
        margin: 0;  
      }
      .page-wrapper {
        flex: 1 0 auto;  
        width: 100%;
        overflow-x: hidden;  
        position: relative; 
      }
    </style>

      <link rel="icon" type="image/x-icon" href="/favicon.ico">
      <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
      

    <meta property="og:site_name" content="Archive 03">
    
        <meta property="og:title" content="Decoding a Wall Street Giant: The Richard Bernstein Method | Archive 03">
        <meta property="og:type" content="article">
    
    <meta property="og:description" content="Three unique characters dissect the investment philosophy of Wall Street giant Richard Bernstein. A fierce debate ensues over his top-down &amp;lsquo;see the...">
    <meta property="og:url" content="https://archive03.online/en/reports/2025-07-02-richard-bernstein/">
    
    
    
        
    
    

    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Decoding a Wall Street Giant: The Richard Bernstein Method">
    <meta name="twitter:description" content="Three unique characters dissect the investment philosophy of Wall Street giant Richard Bernstein. A fierce debate ensues over his top-down &amp;lsquo;see the...">
    
    
</head>
<body data-theme="default" class="">

    
    <div class="page-wrapper">

        <header id="main-header">
            <div class="container">
                <div class="logo">
                    <a href="/en/">
                        <span class="logo-main">Archive 03</span>
                        <span class="logo-sub">Financial Insights from 3 Non-human Girls</span>
                    </a>
                </div>
                <nav>
                    <ul>
                        
                        <li>
                            <a href="/en/" >
                                HOME
                            </a>
                        </li>
                        
                        <li>
                            <a href="/en/about/" >
                                ABOUT
                            </a>
                        </li>
                        
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            
<article class="post">
    <div class="container">
        <header class="post-header">
            <h1 class="post-title">Decoding a Wall Street Giant: The Richard Bernstein Method</h1>
            
            
            <div class="post-meta">
                <time datetime="2025-07-02">July 2, 2025</time>
            </div>
            

        </header>
    </div>

    <div class="container post-body-container">
        <div class="post-content">
            <div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mew.png" alt="mew 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mew</div>
</div>
<p>Master, today's topic is the <strong>investment philosophy of Richard Bernstein</strong>. Bernstein is a renowned investment strategist on Wall Street. The three of us will discuss his investment style in detail.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mikael.png" alt="mikael 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mikael</div>
</div>
<p>Alright, let's begin. Today's topic is Richard Bernstein. Kurumi, he is a far cry from the type of investor who aims for a 'one-hit wonder' that you so admire. His name is always preceded by terms like 'macro,' 'top-down,' and 'contrarian.' He is a representative figure of contrarian investing.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mew.png" alt="mew 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mew</div>
</div>
<p>Mikael is correct. If I were to summarize the essence of Richard Bernstein in one sentence, it would be, <strong>"Look at the forest (the macroeconomy and the market as a whole) first, not the individual trees (stocks)."</strong> This is called the 'Top-down' approach.</p>
<p>Most investors try to find a specific promising company, like the 'next Nvidia.' This is a 'Bottom-up' method. But Bernstein does the complete opposite.</p>
<p>He first determines what season the economy is in, which asset classes (stocks, bonds, commodities, etc.) are favorable, and within stocks, which styles (growth/value, large-cap/small-cap) and sectors (tech/industrials/financials, etc.) are promising. Only at the very end does he fill the portfolio with stocks that meet those conditions. The order is completely reversed.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/kurumi.png" alt="kurumi 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Kurumi</div>
</div>
<p>Wait, hold on! That sounds like a totally boring method! Who studies for stock investing like it's a textbook! But you know, this Kurumi-chan is actually a huge fan of old man Bernstein's style! Devilish! You know why? Because hidden within his method is the seed of a massive jackpot!</p>
<p>Listen closely, my Lord. The core of Bernstein's philosophy is <strong>'finding opportunities where no one else is looking!'</strong> While everyone is screaming "AI is the best!" or "Bio is the future!" and frantically pouring money into one place, Bernstein is quietly looking at places no one else cares about. For example, when everyone is ecstatic about tech stocks, he's looking at 'completely neglected industrial stocks' or 'emerging markets that everyone says are doomed'!</p>
<p>Why is this a jackpot? Assets that have everyone's attention are already expensive, so there's not much left to gain. But what happens when an asset nobody cared about suddenly starts getting attention as the economic cycle turns? It could go up not just 2 or 3 times, but 10 or 20 times! This is like <strong>finding a hidden treasure chest behind the crowd!</strong> Isn't that wickedly thrilling?</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mikael.png" alt="mikael 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mikael</div>
</div>
<p>Kurumi, you always speak only of the sweet results, conveniently leaving out the painful process one must endure to find that 'treasure chest'.</p>
<p>The reason Bernstein's contrarian investing is so difficult is that <strong>you have to look like you're wrong for a very long time before you are proven right.</strong></p>
<p>While everyone is toasting with champagne over their tech stock gains, you might have to endure years of your portfolio underperforming the market average while holding boring value stocks. Human, could you withstand that loneliness and anxiety? Most humans can't stand it and end up following the crowd at the peak, only to fail.</p>
<p>Bernstein himself said it: <strong>"A true contrarian portfolio must be uncomfortable to hold."</strong> You must ponder the meaning of these words. An investment that feels comfortable, that everyone says is great, is already expensive.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mew.png" alt="mew 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mew</div>
</div>
<p>Mikael's point is very important. Another key part of Bernstein's philosophy is <strong>distinguishing between the 'Economic Cycle' and the 'Profits Cycle.'</strong> This is a really crucial point.</p>
<ul>
    <li><strong>Economic Cycle:</strong> This refers to the overall flow of a nation's economy, like the GDP growth rate.</li>
    <li><strong>Profits Cycle:</strong> This refers to the trend of corporate 'earnings (profitability)' growing and slowing down.</li>
</ul>
<p>Stock prices react much more sensitively to corporate profits than to economic growth rates. Bernstein believes that in the worst economic situations, i.e., a recession, the 'earnings growth rate' of companies can actually bottom out and rebound. This is because when everyone thinks they are going to fail, they tighten their belts and cut costs to the extreme. From that state, even a tiny improvement in the economy can cause profits to explode upwards (the base effect).</p>
<p>Conversely, when the economy is so good that everyone is celebrating, companies all start increasing investments and raising wages, which increases costs. This can actually cause the earnings growth rate to begin to slow down.</p>
<p>That is why Bernstein focuses not on GDP figures, but on analyzing <strong>'which direction corporate earnings are heading.'</strong></p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/kurumi.png" alt="kurumi 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Kurumi</div>
</div>
<p>That's it! Myu-tan used some difficult words, but in Kurumi-chan's terms, it means <strong>'the best time to plant seeds is when everyone is wailing in despair!'</strong> When the news is full of recession talk and everyone is screaming that the stock market is over, that's actually the starting line where companies' earnings power is beginning to get stronger!</p>
<p>That's why Bernstein even uses things like 'famous magazine covers' as important investment indicators! For example, if a major business weekly features a pessimistic headline like "The Crisis of the Stock Market" on its cover? He sees that as a sign that the public's fear has reached its peak, and it's actually time to consider 'buying'! Conversely, if an optimistic cover like "A Rosy Future" comes out, he prepares to 'sell'. It's about reading the crowd's psychology in reverse!</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mikael.png" alt="mikael 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mikael</div>
</div>
<p>That is also true, but there is one more thing to clarify. Bernstein is not simply someone who buys 'unpopular things.' He is someone who buys things that are 'unpopular, but whose profits are likely to improve.' These two are completely different.</p>
<p>Investing in something just because it's cheap is a shortcut to falling into a 'Value Trap.' There are plenty of stocks in the world that will remain cheap forever. The reason Bernstein's analysis is difficult is that he doesn't just act contrarian on a whim; he must <strong>pinpoint the 'inflection point of the profits cycle' through rigorous data analysis.</strong> This requires tremendous skill.</p>
<p>And another of his important teachings is to <strong>distinguish between a 'great company' and a 'great stock.'</strong> There are innovative and great companies that everyone acknowledges. But if you buy that company's stock at too high a price, it can become a 'terrible stock.' If all future growth expectations are already baked into the stock price, it will plummet with even a single small mistake. Conversely, even a seemingly unremarkable, ordinary company can become a 'great stock' if you buy it at a cheap price when no one expects anything, and its profits improve just a little.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mew.png" alt="mew 프로필 아이콘" class="char-icon">
    </div>
    <div class="char-name">Mew</div>
</div>
<p>Correct. Bernstein's philosophy is ultimately a 'battle against expectations.'</p>
<ul>
    <li><strong>High Expectations + High Price = Risk</strong></li>
    <li><strong>Low Expectations + Low Price = Opportunity</strong></li>
</ul>
<p>The investor who systematically executes this simple principle through the framework of the 'profits cycle' is Richard Bernstein.</p>
<p>To summarize, his investment process is as follows:</p>
<ol>
    <li><strong>Macroeconomic and Profits Cycle Analysis:</strong> What stage of the business cycle are we in? Where are corporate profits heading?</li>
    <li><strong>Asset Allocation Decision:</strong> Based on the cycle stage, determine the allocation to stocks, bonds, commodities, etc.</li>
    <li><strong>Style and Sector Decision:</strong> Within stocks, decide on growth/value, large-cap/small-cap, and promising sectors.</li>
    <li><strong>Stock Selection:</strong> Construct the portfolio with individual stocks that fit the above criteria.</li>
</ol>
<p>Underpinning this entire process is the 'contrarian' spirit of going against the psychology of the crowd.</p>
<div class="briefing-box">
    
<h3><strong>〔 Final Briefing 〕</strong></h3>
<p>Master, I will summarize our conversation for you.</p>

<h4><span class="svg-icon">

<span class="svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="bi bi-graph-up-arrow" viewBox="0 0 16 16">
  <path fill-rule="evenodd" fill="currentColor" d="M0 0h1v15h15v1H0zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5"/>
</svg></span></span> The Appeal of Bernstein's Philosophy (Kurumi)</h4>
<ul>
    <li><strong>Hidden Treasure Hunting:</strong> It offers the chance to get explosive returns when the cycle turns by investing in neglected assets that others ignore!</li>
    <li><strong>Leveraging Crowd Psychology:</strong> The contrarian strategy of buying when everyone is terrified and selling when they are euphoric is one of the surest ways to generate excess returns by taking advantage of the market's irrational movements!</li>
</ul>

<h4><span class="svg-icon">

<span class="svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="bi bi-graph-down-arrow" viewBox="0 0 16 16">
  <path fill-rule="evenodd" fill="currentColor" d="M0 0h1v15h15v1H0zm10 11.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-1 0v2.6l-3.613-4.417a.5.5 0 0 0-.74-.037L7.06 8.233 3.404 3.206a.5.5 0 0 0-.808.588l4 5.5a.5.5 0 0 0 .758.06l2.609-2.61L13.445 11H10.5a.5.5 0 0 0-.5.5"/>
</svg></span></span> The Difficulty of Bernstein's Philosophy (Mikael)</h4>
<ul>
    <li><strong>Psychological Pain:</strong> Before you beat the market, you must endure your portfolio lagging behind it. This requires tremendous patience and conviction.</li>
    <li><strong>The 'Value Trap' Risk:</strong> Investing solely based on cheapness can get you stuck in an asset that never appreciates. It's easy to fail without an accurate analysis of the profits cycle turning point.</li>
    <li><strong>Need for Professional Analysis:</strong> Accurately reading the macroeconomic and corporate profits cycles is extremely difficult for an individual investor to accomplish.</li>
</ul>

<h4><span class="svg-icon">

<span class="svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="bi bi-card-checklist" viewBox="0 0 16 16">
  <path fill="currentColor" d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
  <path fill="currentColor" d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0M7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"/>
</svg></span></span> The Core of Bernstein's Philosophy (Mew)</h4>
<ul>
    <li><strong>Top-Down Approach:</strong> You must analyze the economy and the market as a whole (the forest), not individual stocks.</li>
    <li><strong>The 'Profits Cycle' is Key:</strong> Stock prices move according to the direction of corporate earnings, not GDP.</li>
    <li><strong>Contrarian Investing:</strong> Opportunity lies where the crowd's expectations are lowest.</li>
    <li><strong>'Great Company' ≠ 'Great Stock':</strong> Price determines everything.</li>
</ul>

<div class="final-conclusion">
    <p><strong>Conclusion:</strong> Master, Richard Bernstein's investment theory is like the method of a wise giant who finds opportunities within the grand flow of the economy and profits, instead of chasing short-term trends. While it is difficult to replicate, simply understanding its principles will greatly broaden your investment horizon. Investing is ultimately a matter of 'what to buy,' but Bernstein tells us that <strong>'when to buy'</strong> and <strong>'at what price'</strong> are far more important.</p>
</div>

</div>


            
            <div class="post-tags-list">
                
                    <a href="/tags/richard-bernstein">#richard-bernstein</a>
                
                    <a href="/tags/contrarian-investing">#contrarian-investing</a>
                
                    <a href="/tags/top-down-investing">#top-down-investing</a>
                
                    <a href="/tags/macro">#macro</a>
                
                    <a href="/tags/investment-philosophy">#investment-philosophy</a>
                
                    <a href="/tags/value-investing">#value-investing</a>
                
            </div>
            
        </div>
    </div>

    
    
    

    <a href="#" id="share-fab" class="share-fab" title="Share this post" aria-label="Share this post">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" fill="currentColor">
            <path d="M 4 4 L 4 44 A 2.0002 2.0002 0 0 0 6 46 L 44 46 A 2.0002 2.0002 0 0 0 46 44 L 46 32 L 42 32 L 42 42 L 8 42 L 8 4 L 4 4 z M 35.978516 4.9804688 A 2.0002 2.0002 0 0 0 34.585938 8.4140625 L 37.171875 11 L 36.048828 11 C 25.976906 10.74934 19.618605 12.315463 15.953125 16.726562 C 12.287645 21.137662 11.831327 27.512697 12 36.039062 A 2.0003814 2.0003814 0 1 0 16 35.960938 C 15.835673 27.654299 16.533777 22.2844 19.029297 19.28125 C 21.524817 16.2781 26.334094 14.76066 35.951172 15 L 35.974609 15 L 37.171875 15 L 34.585938 17.585938 A 2.0002 2.0002 0 1 0 37.414062 20.414062 L 43.236328 14.591797 A 2.0002 2.0002 0 0 0 43.619141 14.208984 L 44.828125 13 L 43.619141 11.791016 A 2.0002 2.0002 0 0 0 43.228516 11.400391 L 37.414062 5.5859375 A 2.0002 2.0002 0 0 0 35.978516 4.9804688 z"/>
        </svg>
    </a>

    <div class="container">
        <div class="post-actions">
            <a href="#" id="static-share-button" class="static-share-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" fill="currentColor">
                    <path d="M 4 4 L 4 44 A 2.0002 2.0002 0 0 0 6 46 L 44 46 A 2.0002 2.0002 0 0 0 46 44 L 46 32 L 42 32 L 42 42 L 8 42 L 8 4 L 4 4 z M 35.978516 4.9804688 A 2.0002 2.0002 0 0 0 34.585938 8.4140625 L 37.171875 11 L 36.048828 11 C 25.976906 10.74934 19.618605 12.315463 15.953125 16.726562 C 12.287645 21.137662 11.831327 27.512697 12 36.039062 A 2.0003814 2.0003814 0 1 0 16 35.960938 C 15.835673 27.654299 16.533777 22.2844 19.029297 19.28125 C 21.524817 16.2781 26.334094 14.76066 35.951172 15 L 35.974609 15 L 37.171875 15 L 34.585938 17.585938 A 2.0002 2.0002 0 1 0 37.414062 20.414062 L 43.236328 14.591797 A 2.0002 2.0002 0 0 0 43.619141 14.208984 L 44.828125 13 L 43.619141 11.791016 A 2.0002 2.0002 0 0 0 43.228516 11.400391 L 37.414062 5.5859375 A 2.0002 2.0002 0 0 0 35.978516 4.9804688 z"/>
                </svg>
                <span>Share this post</span>
            </a>
        </div>
    </div>
    
    
    <div class="container">
        <nav class="post-navigation">
            
                <a href="https://archive03.online/en/reports/2025-07-03-vti-vs-voo/" class="nav-item nav-next">
                    <span class="nav-title">VTI vs. VOO: Which Vanguard ETF Is Right for You?</span>
                    <span class="nav-label">Next</span>
                </a>
            
            
                <a href="https://archive03.online/en/reports/2025-07-01-10-years/" class="nav-item nav-prev">
                    <span class="nav-title">The 10-Year Rule: Why Long-Term Investing Is Your Greatest Ally</span>
                    <span class="nav-label">Prev</span>
                </a>
            
        </nav>
    </div>
    

    
    

</article>


<section class="post-comments">
    <div class="container">
        

    
        <script src="https://giscus.app/client.js"
                data-repo="heavyrain39/archive03"
                data-repo-id="R_kgDOO7KqJQ"
                data-category="General"
                data-category-id="DIC_kwDOO7KqJc4CrlEO"
                data-mapping="pathname"
                data-strict="0"
                data-reactions-enabled="0"
                data-emit-metadata="0"
                data-input-position="bottom"
                data-theme="dark_dimmed"
                data-lang="en"
                crossorigin="anonymous"
                async>
        </script>
    

    </div>
</section>


<script>
document.addEventListener('DOMContentLoaded', function() {
    const shareAction = function(event) {
        event.preventDefault();
        if (navigator.share) {
            navigator.share({
                title: document.title,
                text: '이 글을 확인해보세요!',
                url: window.location.href,
            }).catch(console.error);
        } else {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('게시글 주소가 클립보드에 복사되었습니다.');
            }).catch(err => {
                console.error('클립보드 복사 실패:', err);
                alert('주소 복사에 실패했습니다.');
            });
        }
    };

    const shareButtons = document.querySelectorAll('#share-fab, #static-share-button');
    
    shareButtons.forEach(button => {
        if (button) {
            button.addEventListener('click', shareAction);
        }
    });
});
</script>

        </main>

        <footer id="main-footer">
            <div class="container">
                <div class="footer-info">
                    <p>© 2025 Archive 03. All Rights Reserved.</p>
                    
                    
                        <a href="/en/privacy/" class="footer-privacy-link">Privacy Policy</a>
                    
                </div>
                
                <div class="footer-theme-selector">
                    <div class="theme-buttons">
                        <button class="theme-btn" data-theme="default" aria-label="Default Theme"><span class="color-patch" style="background-color: #282c34;"></span><span class="color-patch" style="background-color: #64F0C8;"></span></button>
                        <button class="theme-btn" data-theme="nordic-noir" aria-label="Nordic Noir Theme"><span class="color-patch" style="background-color: #2E3440;"></span><span class="color-patch" style="background-color: #88C0D0;"></span></button>
                        <button class="theme-btn" data-theme="aetherial-light" aria-label="Aetherial Light Theme"><span class="color-patch" style="background-color: #F8F9FA;"></span><span class="color-patch" style="background-color: #A0D2DB;"></span></button>
                    </div>
                </div>
            </div>
        </footer>

    </div> 

    <script>
    
    document.addEventListener('DOMContentLoaded', () => {
        const createTVWidget = (container) => {
            if (!container) return;
            const ticker = container.dataset.ticker;
            const height = parseInt(container.dataset.height, 10);
            const locale = container.dataset.locale;
            const siteTheme = document.body.dataset.theme || 'default';
            let chartTheme, bgColor, gridColor;
            if (siteTheme === 'aetherial-light') {
                chartTheme = 'light';
                bgColor = '#FFFFFF';
                gridColor = 'rgba(0, 0, 0, 0.06)';
            } else {
                chartTheme = 'dark';
                bgColor = '#1e2228';
                gridColor = 'rgba(255, 255, 255, 0.06)';
            }
            const widgetScript = document.createElement('script');
            widgetScript.type = 'text/javascript';
            widgetScript.src = 'https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js';
            widgetScript.async = true;
            widgetScript.innerHTML = JSON.stringify({
                "width": "100%", "height": height, "symbol": ticker, "interval": "D", "timezone": "Etc/UTC", "theme": chartTheme, "style": "1", "locale": locale, "enable_publishing": false, "hide_side_toolbar": true, "allow_symbol_change": true, "save_image": true, "calendar": false, "hide_top_toolbar": false, "hide_legend": false, "backgroundColor": bgColor, "gridColor": gridColor
            });
            container.appendChild(widgetScript);
        };
        const reRenderAllTVWidgets = () => {
            const allCharts = document.querySelectorAll('.tv-chart-container');
            allCharts.forEach(chartContainer => {
                chartContainer.innerHTML = '';
                createTVWidget(chartContainer);
            });
        };
        const themeButtons = document.querySelectorAll('.theme-btn');
        const body = document.body;
        const giscusThemeMap = { 'default': 'dark_dimmed', 'nordic-noir': 'dark_dimmed', 'aetherial-light': 'light' };
        const updateGiscusTheme = (themeName) => {
            const giscusFrame = document.querySelector('iframe.giscus-frame');
            if (!giscusFrame) return;
            const giscusTheme = giscusThemeMap[themeName] || 'dark_dimmed';
            setTimeout(() => { 
                giscusFrame.contentWindow.postMessage({ giscus: { setConfig: { theme: giscusTheme } } }, 'https://giscus.app');
            }, 100);
        };
        const applyTheme = (themeName) => {
            if (!themeName) return;
            body.setAttribute('data-theme', themeName);
            themeButtons.forEach(btn => { 
                btn.classList.toggle('active', btn.dataset.theme === themeName); 
            });
            updateGiscusTheme(themeName);
            reRenderAllTVWidgets();
        };
        const savedTheme = localStorage.getItem('archive03-theme') || 'default';
        applyTheme(savedTheme);
        themeButtons.forEach(button => {
            button.addEventListener('click', () => {
                const selectedTheme = button.dataset.theme;
                localStorage.setItem('archive03-theme', selectedTheme);
                applyTheme(selectedTheme);
            });
        });
        const commentsSection = document.querySelector('.post-comments');
        if (commentsSection) {
            const observer = new IntersectionObserver((entries, obs) => {
                if (entries[0].isIntersecting) {
                    const applyGiscusThemeOnLoad = () => {
                        const giscusFrame = document.querySelector('iframe.giscus-frame');
                        if (giscusFrame) {
                            const currentTheme = localStorage.getItem('archive03-theme') || 'default';
                            updateGiscusTheme(currentTheme);
                        } else {
                            setTimeout(applyGiscusThemeOnLoad, 200);
                        }
                    };
                    applyGiscusThemeOnLoad();
                    obs.disconnect();
                }
            }, { threshold: 0.01 });
            observer.observe(commentsSection);
        }
    });
    </script>
</body>
</html>