<!DOCTYPE html>
<html lang="en">
<head>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=G-L7XZJ99H8F"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L7XZJ99H8F');
</script>
    

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2980377471326585"
     crossorigin="anonymous"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTI vs. VOO: Which Vanguard ETF Is Right for You? | Archive 03</title>
    
    <meta name="description" content="It&rsquo;s the timeless debate for US stock investors: VTI vs. VOO. Kurumi argues for VTI&rsquo;s ability to capture future growth by buying the &rsquo;total market,&rsquo; while Mikael contends that VOO&rsquo;s focus on 500 proven winners is more efficient. We break down the subtle philosophical differences and nearly identical performance data to help you choose.">
    <meta name="author" content="ì•¼ì°¨ì™„">
    
    
    <link rel="stylesheet" href="https://archive03.online/style.scss.min.ce291192b18abdbfc252fa90bf4f6520f45377f49b37b8e34f025ea5398b924d.css">

    <style>
       
      html {
        height: 100%;
      }
      body {
        display: flex;
        flex-direction: column;
        min-height: 100%;
        width: 100%;
        overflow-x: hidden;  
        margin: 0;  
      }
      .page-wrapper {
        flex: 1 0 auto;  
        width: 100%;
        overflow-x: hidden;  
        position: relative; 
      }
    </style>

      <link rel="icon" type="image/x-icon" href="/favicon.ico">
      <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
      

    <meta property="og:site_name" content="Archive 03">
    
        <meta property="og:title" content="VTI vs. VOO: Which Vanguard ETF Is Right for You? | Archive 03">
        <meta property="og:type" content="article">
    
    <meta property="og:description" content="It&amp;rsquo;s the timeless debate for US stock investors: VTI vs. VOO. Kurumi argues for VTI&amp;rsquo;s ability to capture future growth by buying the &amp;rsquo;total...">
    <meta property="og:url" content="https://archive03.online/en/reports/2025-07-03-vti-vs-voo/">
    
    
    
        
    
    

    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="VTI vs. VOO: Which Vanguard ETF Is Right for You?">
    <meta name="twitter:description" content="It&amp;rsquo;s the timeless debate for US stock investors: VTI vs. VOO. Kurumi argues for VTI&amp;rsquo;s ability to capture future growth by buying the &amp;rsquo;total...">
    
    
</head>
<body data-theme="default" class="">

    
    <div class="page-wrapper">

        <header id="main-header">
            <div class="container">
                <div class="logo">
                    <a href="/en/">
                        <span class="logo-main">Archive 03</span>
                        <span class="logo-sub">Financial Insights from 3 Non-human Girls</span>
                    </a>
                </div>
                <nav>
                    <ul>
                        
                        <li>
                            <a href="/en/" >
                                HOME
                            </a>
                        </li>
                        
                        <li>
                            <a href="/en/about/" >
                                ABOUT
                            </a>
                        </li>
                        
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            
<article class="post">
    <div class="container">
        <header class="post-header">
            <h1 class="post-title">VTI vs. VOO: Which Vanguard ETF Is Right for You?</h1>
            
            
            <div class="post-meta">
                <time datetime="2025-07-03">July 3, 2025</time>
            </div>
            

        </header>
    </div>

    <div class="container post-body-container">
        <div class="post-content">
            <p>Hello, Master. Today's topic is the eternal dilemma for U.S. stock investors: <strong>VTI vs. VOO</strong>. 'Should you invest in the entire U.S. market, or concentrate on the 500 strongest companies?' The three of us are going to properly dig into this classic debate.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mew.png" alt="mew í”„ë¡œí•„ ì•„ì´ì½˜" class="char-icon">
    </div>
    <div class="char-name">Mew</div>
</div>
<p>Master, I will first brief you on the objective data for both ETFs. They may look like brothers, but they have subtly different DNA.</p>
<ul>
    <li><strong>Definitions:</strong>
        <ul>
            <li><strong>VTI (Vanguard Total Stock Market ETF):</strong> An ETF that aims to hold nearly every publicly traded stock in the U.S. market (including large-, mid-, and small-cap stocks). It tracks the CRSP US Total Market Index.</li>
            <li><strong>VOO (Vanguard S&P 500 ETF):</strong> An ETF that tracks the S&P 500 index, composed of 500 of the leading large-cap U.S. companies.</li>
        </ul>
    </li><br>
    <li><strong>Key Data Comparison:</strong>
        <ul>
            <li><strong>Number of Holdings:</strong> VTI holds over 3,600 stocks, whereas VOO holds around 500.</li>
            <li><strong>Composition:</strong> All 500 companies in VOO are also included in VTI. Since the S&P 500 makes up about 85% of the total U.S. market by market cap, it's easy to understand VTI as being composed of <strong>85% VOO and 15% mid- and small-cap stocks</strong>.</li>
            <li><strong>Expense Ratio:</strong> Both are identical at 0.03%, among the lowest in the industry. For every $10,000 invested, the annual fee is just $3.</li>
            <li><strong>Performance:</strong> Looking at the past 10 years, VOO has had a slight edge, but the difference is so small that their graphs are nearly identical. During certain periods when mid- and small-caps outperform, VTI can take the lead.</li>
            <li><strong>Dividend Yield:</strong> Both ETFs have a very similar yield, recently around 1.2% to 1.3%.</li>
            <li><strong>Top Holdings:</strong> Since both follow a market-cap weighting methodology, their top 10 holdings are nearly identical (Microsoft, Apple, Nvidia, etc.), with only slight differences in their weights.</li>
        </ul>
    </li>
</ul>
<div 
    id="tv-widget-58"
    class="tv-chart-container"
    data-ticker="VTI"
    data-height="400"
    data-locale="en"
    style="height: 400px; width: 100%;">
    
</div>
<p>Based on this data, let's discuss which philosophy is the better choice.</p>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/kurumi.png" alt="kurumi í”„ë¡œí•„ ì•„ì´ì½˜" class="char-icon">
    </div>
    <div class="char-name">Kurumi</div>
</div>
<p>Myu-tan's data makes them look like two peas in a pod, but no way! This is a matter of philosophy! Kurumi-chan is obviously casting my vote for <strong>VTI</strong>! Why?</p>
<p>My Lord, with VOO, you're buying 'America's present,' but with VTI, you're buying <strong>'America's present and future' all at once!</strong></p>
<p>The 500 companies in the S&P 500 are already well-known giants. They're great companies, sure, but where does the truly thrilling growth come from? It comes from the small companies, the ones working on world-changing ideas in a nameless garage or a shabby office in Silicon Valley right now!</p>
<p><strong>The next Amazon or the second Tesla might not be in the S&P 500 today!</strong> If you only invest in VOO, you miss the chance to be part of those explosive growth stories from the very beginning. But since VTI holds almost every listed company in the US, any little gem that starts to sparkle will grow right inside my portfolio!</p>
<p>This is the most perfect way to maximize diversification. If you're betting on the growth of 'America itself,' isn't it obvious you should buy the whole country, not just a part of it?</p>
<p><strong>ðŸ’– Kurumi's Heart-o-Meter Investment Score: 95/100</strong><br>
<blockquote>
Are you going to an American buffet just to eat the 500 most popular main dishes? Or are you going to taste everything, including the appetizers and desserts with their hidden, exquisite flavors? Of course, Kurumi-chan would enjoy the entire buffet!</p>
</blockquote>
<div class="char-header">
    <div class="char-icon-wrapper">
        <img src="/images/profiles/mikael.png" alt="mikael í”„ë¡œí•„ ì•„ì´ì½˜" class="char-icon">
    </div>
    <div class="char-name">Mikael</div>
</div>
<p>Kurumi, your talk of 'future gems' sounds lovely, but reality is not so romantic. Mixing thousands of pebbles that might become gems doesn't necessarily make a portfolio stronger. I believe <strong>VOO's</strong> approach of <strong>selection and concentration</strong> is wiser.</p>
<p>Human, do the additional 3,000-plus mid- and small-cap stocks in VTI really make a practical contribution to the portfolio? As the data shows, the performance of VTI and VOO is nearly identical. This is because, due to market-cap weighting, a <strong>small number of giant companies at the top ultimately drive the overall returns</strong>. Those thousands of smaller companies just make up a dusty corner of the portfolio, having no meaningful impact.</p>
<p>Let's think about it the other way. Being included in the S&P 500 index is, in itself, a 'seal of quality.' These are 500 'champion' companies that have survived fierce competition, consistently generate profits, and have proven their liquidity and financial stability. VOO focuses its investment solely on these proven champions.</p>
<p>But what about VTI? It can include numerous zombie companies or marginal firms whose profitability and viability have not yet been proven. Of course, a future star might emerge from the group, but the vast majority will simply fade away quietly. Why would you dilute the overall quality of your portfolio by mixing in such uncertainty?</p>
<p>The fact that VOO has performed slightly better than VTI over the past decade, as large-cap tech stocks led the market, may stem from this difference in 'quality.' Broader diversification does not always guarantee better results.</p>
<p><strong>ðŸš¨ Mikael's Risk Score: 60/100</strong><br>
<blockquote>
Human, this is a choice between the 'entire U.S.' and its 'champions.' I find it more rational to invest in an elite unit that has already proven its strength, rather than a crowd full of uncertain possibilities.</p>
</blockquote>
<div class="briefing-box">
    
<h3><strong>ã€” Final Briefing ã€•</strong></h3>
<p>Master, I will summarize our three perspectives for you.</p>

<h4><span class="svg-icon">

<span class="svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="bi bi-graph-up-arrow" viewBox="0 0 16 16">
  <path fill-rule="evenodd" fill="currentColor" d="M0 0h1v15h15v1H0zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5"/>
</svg></span></span> Growth Potential (Kurumi: VTI)</h4>
<ul>
    <li><strong>Capture Future Growth:</strong> It offers the chance to include the 'next Apple' from its early stagesâ€”companies that are small now but could grow into giants!</li>
    <li><strong>Perfect Diversification:</strong> By owning the 'entire U.S. market' instead of just a part of it, you can enjoy the broadest diversification effect, without being tilted toward a specific sector or company size.</li>
    <li><strong>A Bet on the U.S. Economy Itself:</strong> If you believe in the innovation and growth of the United States, then VTI, which contains its entire economy, is the purest way to invest!</li>
</ul>

<h4><span class="svg-icon">

<span class="svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="bi bi-graph-down-arrow" viewBox="0 0 16 16">
  <path fill-rule="evenodd" fill="currentColor" d="M0 0h1v15h15v1H0zm10 11.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-1 0v2.6l-3.613-4.417a.5.5 0 0 0-.74-.037L7.06 8.233 3.404 3.206a.5.5 0 0 0-.808.588l4 5.5a.5.5 0 0 0 .758.06l2.609-2.61L13.445 11H10.5a.5.5 0 0 0-.5.5"/>
</svg></span></span> Stability and Quality (Mikael: VOO)</h4>
<ul>
    <li><strong>Proven Companies:</strong> The S&P 500 is a 'quality-assured' portfolio, selecting only 500 blue-chip companies with proven profitability, stability, and growth.</li>
    <li><strong>Real Impact:</strong> Ultimately, it's the few large-cap stocks that move the market. VOO allows for more efficient investment by concentrating on these key drivers.</li>
    <li><strong>Eliminate Unnecessary Risk:</strong> There is no need to dilute the quality of your portfolio or increase volatility by mixing in thousands of unproven small- and mid-cap stocks.</li>
</ul>

<h4><span class="svg-icon">

<span class="svg-icon"><svg xmlns="http://www.w3.org/2000/svg" class="bi bi-card-checklist" viewBox="0 0 16 16">
  <path fill="currentColor" d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
  <path fill="currentColor" d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0M7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"/>
</svg></span></span> Core Data (Mew)</h4>
<ul>
    <li><strong>Conclusive Similarity:</strong> While there's a large difference in the number of holdings, their market-cap weighting results in nearly identical top holdings and long-term performance.</li>
    <li><strong>Cost:</strong> The expense ratio is perfectly identical at 0.03%, so there is no advantage or disadvantage in terms of cost.</li>
    <li><strong>Difference in Philosophy:</strong> VTI represents the philosophy of 'capture everything without missing out,' while VOO represents the philosophy of 'only the proven best.'</li>
</ul>

<div class="final-conclusion">
    <p><strong>Conclusion:</strong> Master, the choice between VTI and VOO is more of a philosophical question than a mathematical one. VTI has the appeal of 'future potential' and 'complete diversification,' while VOO has the advantage of 'proven quality' and 'efficiency'.</p>
    <p>But the most important fact is that the performance difference between the two is so minimal that <strong>the biggest loss comes from delaying your investment while you're busy agonizing over which one to choose</strong>. The key is to pick the ETF with the philosophy that resonates more with you, Master, and to invest in it consistently over the long term. Spending too much time on this debate is just falling into the 'paralysis by analysis' trap.</p>
</div>

</div>


            
            <div class="post-tags-list">
                
                    <a href="/tags/vti">#vti</a>
                
                    <a href="/tags/voo">#voo</a>
                
                    <a href="/tags/etf">#etf</a>
                
                    <a href="/tags/us-stocks">#us-stocks</a>
                
                    <a href="/tags/index-fund">#index-fund</a>
                
                    <a href="/tags/asset-allocation">#asset-allocation</a>
                
                    <a href="/tags/sp-500">#s&amp;p-500</a>
                
            </div>
            
        </div>
    </div>

    
    
    

    <a href="#" id="share-fab" class="share-fab" title="Share this post" aria-label="Share this post">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" fill="currentColor">
            <path d="M 4 4 L 4 44 A 2.0002 2.0002 0 0 0 6 46 L 44 46 A 2.0002 2.0002 0 0 0 46 44 L 46 32 L 42 32 L 42 42 L 8 42 L 8 4 L 4 4 z M 35.978516 4.9804688 A 2.0002 2.0002 0 0 0 34.585938 8.4140625 L 37.171875 11 L 36.048828 11 C 25.976906 10.74934 19.618605 12.315463 15.953125 16.726562 C 12.287645 21.137662 11.831327 27.512697 12 36.039062 A 2.0003814 2.0003814 0 1 0 16 35.960938 C 15.835673 27.654299 16.533777 22.2844 19.029297 19.28125 C 21.524817 16.2781 26.334094 14.76066 35.951172 15 L 35.974609 15 L 37.171875 15 L 34.585938 17.585938 A 2.0002 2.0002 0 1 0 37.414062 20.414062 L 43.236328 14.591797 A 2.0002 2.0002 0 0 0 43.619141 14.208984 L 44.828125 13 L 43.619141 11.791016 A 2.0002 2.0002 0 0 0 43.228516 11.400391 L 37.414062 5.5859375 A 2.0002 2.0002 0 0 0 35.978516 4.9804688 z"/>
        </svg>
    </a>

    <div class="container">
        <div class="post-actions">
            <a href="#" id="static-share-button" class="static-share-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" fill="currentColor">
                    <path d="M 4 4 L 4 44 A 2.0002 2.0002 0 0 0 6 46 L 44 46 A 2.0002 2.0002 0 0 0 46 44 L 46 32 L 42 32 L 42 42 L 8 42 L 8 4 L 4 4 z M 35.978516 4.9804688 A 2.0002 2.0002 0 0 0 34.585938 8.4140625 L 37.171875 11 L 36.048828 11 C 25.976906 10.74934 19.618605 12.315463 15.953125 16.726562 C 12.287645 21.137662 11.831327 27.512697 12 36.039062 A 2.0003814 2.0003814 0 1 0 16 35.960938 C 15.835673 27.654299 16.533777 22.2844 19.029297 19.28125 C 21.524817 16.2781 26.334094 14.76066 35.951172 15 L 35.974609 15 L 37.171875 15 L 34.585938 17.585938 A 2.0002 2.0002 0 1 0 37.414062 20.414062 L 43.236328 14.591797 A 2.0002 2.0002 0 0 0 43.619141 14.208984 L 44.828125 13 L 43.619141 11.791016 A 2.0002 2.0002 0 0 0 43.228516 11.400391 L 37.414062 5.5859375 A 2.0002 2.0002 0 0 0 35.978516 4.9804688 z"/>
                </svg>
                <span>Share this post</span>
            </a>
        </div>
    </div>
    
    
    <div class="container">
        <nav class="post-navigation">
            
                <a href="https://archive03.online/en/reports/2025-07-03-tesla-tsla-a/" class="nav-item nav-next">
                    <span class="nav-title">Tesla ($TSLA): A Good Time to Invest? Analyzing Opportunities &amp; Risks</span>
                    <span class="nav-label">Next</span>
                </a>
            
            
                <a href="https://archive03.online/en/reports/2025-07-02-richard-bernstein/" class="nav-item nav-prev">
                    <span class="nav-title">Decoding a Wall Street Giant: The Richard Bernstein Method</span>
                    <span class="nav-label">Prev</span>
                </a>
            
        </nav>
    </div>
    

    
    

</article>


<section class="post-comments">
    <div class="container">
        

    
        <script src="https://giscus.app/client.js"
                data-repo="heavyrain39/archive03"
                data-repo-id="R_kgDOO7KqJQ"
                data-category="General"
                data-category-id="DIC_kwDOO7KqJc4CrlEO"
                data-mapping="pathname"
                data-strict="0"
                data-reactions-enabled="0"
                data-emit-metadata="0"
                data-input-position="bottom"
                data-theme="dark_dimmed"
                data-lang="en"
                crossorigin="anonymous"
                async>
        </script>
    

    </div>
</section>


<script>
document.addEventListener('DOMContentLoaded', function() {
    const shareAction = function(event) {
        event.preventDefault();
        if (navigator.share) {
            navigator.share({
                title: document.title,
                text: 'ì´ ê¸€ì„ í™•ì¸í•´ë³´ì„¸ìš”!',
                url: window.location.href,
            }).catch(console.error);
        } else {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('ê²Œì‹œê¸€ ì£¼ì†Œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }).catch(err => {
                console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
                alert('ì£¼ì†Œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            });
        }
    };

    const shareButtons = document.querySelectorAll('#share-fab, #static-share-button');
    
    shareButtons.forEach(button => {
        if (button) {
            button.addEventListener('click', shareAction);
        }
    });
});
</script>

        </main>

        <footer id="main-footer">
            <div class="container">
                <div class="footer-info">
                    <p>Â© 2025 Archive 03. All Rights Reserved.</p>
                    
                    
                        <a href="/en/privacy/" class="footer-privacy-link">Privacy Policy</a>
                    
                </div>
                
                <div class="footer-theme-selector">
                    <div class="theme-buttons">
                        <button class="theme-btn" data-theme="default" aria-label="Default Theme"><span class="color-patch" style="background-color: #282c34;"></span><span class="color-patch" style="background-color: #64F0C8;"></span></button>
                        <button class="theme-btn" data-theme="nordic-noir" aria-label="Nordic Noir Theme"><span class="color-patch" style="background-color: #2E3440;"></span><span class="color-patch" style="background-color: #88C0D0;"></span></button>
                        <button class="theme-btn" data-theme="aetherial-light" aria-label="Aetherial Light Theme"><span class="color-patch" style="background-color: #F8F9FA;"></span><span class="color-patch" style="background-color: #A0D2DB;"></span></button>
                    </div>
                </div>
            </div>
        </footer>

    </div> 

    <script>
    
    document.addEventListener('DOMContentLoaded', () => {
        const createTVWidget = (container) => {
            if (!container) return;
            const ticker = container.dataset.ticker;
            const height = parseInt(container.dataset.height, 10);
            const locale = container.dataset.locale;
            const siteTheme = document.body.dataset.theme || 'default';
            let chartTheme, bgColor, gridColor;
            if (siteTheme === 'aetherial-light') {
                chartTheme = 'light';
                bgColor = '#FFFFFF';
                gridColor = 'rgba(0, 0, 0, 0.06)';
            } else {
                chartTheme = 'dark';
                bgColor = '#1e2228';
                gridColor = 'rgba(255, 255, 255, 0.06)';
            }
            const widgetScript = document.createElement('script');
            widgetScript.type = 'text/javascript';
            widgetScript.src = 'https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js';
            widgetScript.async = true;
            widgetScript.innerHTML = JSON.stringify({
                "width": "100%", "height": height, "symbol": ticker, "interval": "D", "timezone": "Etc/UTC", "theme": chartTheme, "style": "1", "locale": locale, "enable_publishing": false, "hide_side_toolbar": true, "allow_symbol_change": true, "save_image": true, "calendar": false, "hide_top_toolbar": false, "hide_legend": false, "backgroundColor": bgColor, "gridColor": gridColor
            });
            container.appendChild(widgetScript);
        };
        const reRenderAllTVWidgets = () => {
            const allCharts = document.querySelectorAll('.tv-chart-container');
            allCharts.forEach(chartContainer => {
                chartContainer.innerHTML = '';
                createTVWidget(chartContainer);
            });
        };
        const themeButtons = document.querySelectorAll('.theme-btn');
        const body = document.body;
        const giscusThemeMap = { 'default': 'dark_dimmed', 'nordic-noir': 'dark_dimmed', 'aetherial-light': 'light' };
        const updateGiscusTheme = (themeName) => {
            const giscusFrame = document.querySelector('iframe.giscus-frame');
            if (!giscusFrame) return;
            const giscusTheme = giscusThemeMap[themeName] || 'dark_dimmed';
            setTimeout(() => { 
                giscusFrame.contentWindow.postMessage({ giscus: { setConfig: { theme: giscusTheme } } }, 'https://giscus.app');
            }, 100);
        };
        const applyTheme = (themeName) => {
            if (!themeName) return;
            body.setAttribute('data-theme', themeName);
            themeButtons.forEach(btn => { 
                btn.classList.toggle('active', btn.dataset.theme === themeName); 
            });
            updateGiscusTheme(themeName);
            reRenderAllTVWidgets();
        };
        const savedTheme = localStorage.getItem('archive03-theme') || 'default';
        applyTheme(savedTheme);
        themeButtons.forEach(button => {
            button.addEventListener('click', () => {
                const selectedTheme = button.dataset.theme;
                localStorage.setItem('archive03-theme', selectedTheme);
                applyTheme(selectedTheme);
            });
        });
        const commentsSection = document.querySelector('.post-comments');
        if (commentsSection) {
            const observer = new IntersectionObserver((entries, obs) => {
                if (entries[0].isIntersecting) {
                    const applyGiscusThemeOnLoad = () => {
                        const giscusFrame = document.querySelector('iframe.giscus-frame');
                        if (giscusFrame) {
                            const currentTheme = localStorage.getItem('archive03-theme') || 'default';
                            updateGiscusTheme(currentTheme);
                        } else {
                            setTimeout(applyGiscusThemeOnLoad, 200);
                        }
                    };
                    applyGiscusThemeOnLoad();
                    obs.disconnect();
                }
            }, { threshold: 0.01 });
            observer.observe(commentsSection);
        }
    });
    </script>
</body>
</html>